---
layout: post
title: "设计模式"
date: 2023-03-28 08:00:00 +0800
category: basic
---

<https://www.kancloud.cn/digest/xing-designpattern/143734>

## UML

|关系|表示线|含义|
|-|-|-|
|关联|实线箭头|箭头指向被关联的对象|
|依赖|虚线箭头|箭头指向被依赖的对象|
|泛化/继承|实线三角|三角指向被继承的对象|
|实现|虚线三角|三角指向被实现的对象|
|组合|实心方块+实线箭头|箭头指向组合的其中一部分|
|聚合|空心方块+实线箭头|箭头指向聚合的其中一部分|


### 不同关系之间的区别

#### 1.聚合与组合

1. 聚合与组合都是一种结合关系，只是额外具有整体-部分的意涵。
2. 部件的生命周期不同
    聚合关系中，整件不会拥有部件的生命周期，所以整件删除时，部件不会被删除。再者，多个整件可以共享同一个部件。
    组合关系中，整件拥有部件的生命周期，所以整件删除时，部件一定会跟着删除。而且，多个整件不可以同时间共享同一个部件。
3. 聚合关系是“has-a”关系，组合关系是“contains-a”关系。

#### 2.关联和聚合

1. 表现在代码层面，和关联关系是一致的，只能从语义级别来区分。
2. 关联和聚合的区别主要在语义上，关联的两个对象之间一般是平等的，例如你是我的朋友，聚合则一般不是平等的。
3. 关联是一种结构化的关系，指一种对象和另一种对象有联系。
4. 关联和聚合是视问题域而定的，例如在关心汽车的领域里，轮胎是一定要组合在汽车类中的，因为它离开了汽车就没有意义了。但是在卖轮胎的店铺业务里，就算轮胎离开了汽车，它也是有意义的，这就可以用聚合了。

#### 3.关联和依赖

1. 关联关系中，体现的是两个类、或者类与接口之间语义级别的一种强依赖关系，比如我和我的朋友；这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是长期性的，而且双方的关系一般是平等的。
2. 依赖关系中，可以简单的理解，就是一个类A使用到了另一个类B，而这种使用关系是具有偶然性的、临时性的、非常弱的，但是B类的变化会影响到A。
